# 设备监控点完整参考文档

> 本文档整理了蘑菇房环境控制系统中所有设备类型的监控点配置信息，包括监控点名称、数据类型、枚举值及其语义映射关系。
> 
> **用途**: 作为大模型输入，用于将设备操作记录转换为易于理解的操作概述。
> 
> **数据来源**: 
> - `src/configs/setpoint_monitor_config.json` - 监控点配置
> - `src/configs/static_config.json` - 设备静态配置和枚举值定义

---

## 目录

1. [冷风机 (air_cooler)](#1-冷风机-air_cooler)
2. [新风机 (fresh_air_fan)](#2-新风机-fresh_air_fan)
3. [加湿器 (humidifier)](#3-加湿器-humidifier)
4. [补光灯 (grow_light)](#4-补光灯-grow_light)
5. [蘑菇信息 (mushroom_info)](#5-蘑菇信息-mushroom_info)
6. [环境状态传感器 (mushroom_env_status)](#6-环境状态传感器-mushroom_env_status)
7. [枚举值语义映射总览](#7-枚举值语义映射总览)

---

## 1. 冷风机 (air_cooler)

### 设备描述
冷风机设备用于控制蘑菇房内的温度，支持制冷、制热和循环运行模式。

### 监控的库房
- 607库: `air_cooler_607` (设备名: TD1_Q3MDCH01)
- 608库: `air_cooler_608` (设备名: TD1_Q4MDCH01)
- 611库: `air_cooler_611` (设备名: TD1_Q1MDCH01)
- 612库: `air_cooler_612` (设备名: TD1_Q2MDCH01)

### 监控点列表


#### 1.1 on_off - 冷风机开关
- **系统标识符**: `OnOff`
- **用户别名**: `on_off`
- **数据类型**: 枚举型 (数字量开关)
- **变化阈值**: 不需要阈值 (数字量变化即记录)
- **枚举值语义**:
  - `0` → **关闭** - 冷风机完全关闭，不运行
  - `1` → **开启** - 冷风机启动运行
- **操作含义**: 控制冷风机的总开关状态

#### 1.2 temp_set - 温度设定
- **系统标识符**: `TemSet`
- **用户别名**: `temp_set`
- **数据类型**: 模拟量 (分辨率0.1°C)
- **变化阈值**: 0.5°C
- **操作含义**: 设定库房目标温度，冷风机将根据此温度进行温控

#### 1.3 temp_diffset - 温差设定
- **系统标识符**: `TemDiffSet`
- **用户别名**: `temp_diffset`
- **数据类型**: 模拟量 (分辨率0.1°C)
- **变化阈值**: 0.2°C
- **操作含义**: 设定温度控制的回差值，用于防止频繁启停

#### 1.4 cyc_on_time - 循环开启时间设定
- **系统标识符**: `CycOnTime`
- **用户别名**: `cyc_on_time`
- **数据类型**: 模拟量 (分钟)
- **变化阈值**: 1.0分钟
- **操作含义**: 设定冷风机循环模式下的开启持续时间

#### 1.5 cyc_off_time - 循环关闭时间设定
- **系统标识符**: `CycOffTime`
- **用户别名**: `cyc_off_time`
- **数据类型**: 模拟量 (分钟)
- **变化阈值**: 1.0分钟
- **操作含义**: 设定冷风机循环模式下的关闭持续时间

#### 1.6 air_on_off - 新风联动冷风机开关
- **系统标识符**: `ArOnOff`
- **用户别名**: `air_on_off`
- **数据类型**: 枚举型 (数字量开关)
- **变化阈值**: 不需要阈值
- **枚举值语义**:
  - `0` → **关闭** - 新风机运行时不联动冷风机
  - `1` → **开启** - 新风机运行时联动启动冷风机
- **操作含义**: 控制新风机与冷风机的联动关系

#### 1.7 hum_on_off - 加湿联动冷风机开关
- **系统标识符**: `HumOnOff`
- **用户别名**: `hum_on_off`
- **数据类型**: 枚举型 (数字量开关)
- **变化阈值**: 不需要阈值
- **枚举值语义**:
  - `0` → **关闭** - 加湿器运行时不联动冷风机
  - `1` → **开启** - 加湿器运行时联动启动冷风机
- **操作含义**: 控制加湿器与冷风机的联动关系

#### 1.8 cyc_on_off - 冷风机循环开关
- **系统标识符**: `CycOnOff`
- **用户别名**: `cyc_on_off`
- **数据类型**: 枚举型 (数字量开关)
- **变化阈值**: 不需要阈值
- **枚举值语义**:
  - `0` → **关闭** - 关闭循环模式，按温度控制运行
  - `1` → **开启** - 启用循环模式，按设定时间周期运行
- **操作含义**: 控制冷风机是否采用循环运行模式

### 非监控点（仅状态读取）

#### status - 冷风机状态
- **系统标识符**: `Running`
- **用户别名**: `status`
- **数据类型**: 枚举型 (只读状态)
- **枚举值语义**:
  - `0` → **制冷运行** - 冷风机正在制冷模式运行
  - `1` → **制热运行** - 冷风机正在制热模式运行
  - `2` → **正常运行** - 冷风机正常运行中
  - `3` → **停止** - 冷风机已停止运行
  - `4` → **关闭** - 冷风机处于关闭状态

---

## 2. 新风机 (fresh_air_fan)

### 设备描述
新风机设备用于控制蘑菇房的通风换气，支持时控和CO2浓度控制两种模式。

### 监控的库房
- 607库: `fresh_air_fan_607` (设备名: TD1_Q3MDAR01)
- 608库: `fresh_air_fan_608` (设备名: TD1_Q4MDAR01)
- 611库: `fresh_air_fan_611` (设备名: TD1_Q1MDAR01)
- 612库: `fresh_air_fan_612` (设备名: TD1_Q2MDAR01)

### 监控点列表


#### 2.1 mode - 新风模式
- **系统标识符**: `Model`
- **用户别名**: `mode`
- **数据类型**: 枚举型 (模式选择)
- **变化阈值**: 不需要阈值
- **枚举值语义**:
  - `0` → **关闭模式** - 新风机完全关闭，不运行
  - `1` → **自动模式** - 新风机根据设定条件自动运行
  - `2` → **手动模式** - 新风机由人工手动控制运行
- **操作含义**: 选择新风机的运行模式

#### 2.2 control - 新风控制方式
- **系统标识符**: `Control`
- **用户别名**: `control`
- **数据类型**: 枚举型 (控制策略)
- **变化阈值**: 不需要阈值
- **枚举值语义**:
  - `0` → **时控** - 按照设定的时间周期控制新风机启停
  - `1` → **CO2控制** - 根据CO2浓度阈值控制新风机启停
- **操作含义**: 选择新风机的自动控制策略（仅在自动模式下生效）

#### 2.3 co2_on - CO2启动新风
- **系统标识符**: `Co2On`
- **用户别名**: `co2_on`
- **数据类型**: 模拟量 (ppm)
- **变化阈值**: 50.0 ppm
- **操作含义**: 设定CO2浓度上限，超过此值时启动新风机（仅在CO2控制模式下生效）

#### 2.4 co2_off - CO2停止新风
- **系统标识符**: `Co2Off`
- **用户别名**: `co2_off`
- **数据类型**: 模拟量 (ppm)
- **变化阈值**: 50.0 ppm
- **操作含义**: 设定CO2浓度下限，低于此值时停止新风机（仅在CO2控制模式下生效）

#### 2.5 on - 新风开启设定
- **系统标识符**: `On`
- **用户别名**: `on`
- **数据类型**: 模拟量 (分钟)
- **变化阈值**: 1.0分钟
- **操作含义**: 设定新风机在时控模式下的开启持续时间

#### 2.6 off - 新风停止设定
- **系统标识符**: `Off`
- **用户别名**: `off`
- **数据类型**: 模拟量 (分钟)
- **变化阈值**: 1.0分钟
- **操作含义**: 设定新风机在时控模式下的停止持续时间

### 非监控点（仅状态读取）

#### status - 新风状态
- **系统标识符**: `Running`
- **用户别名**: `status`
- **数据类型**: 枚举型 (只读状态)
- **枚举值语义**:
  - `0` → **自动** - 新风机处于自动运行状态
  - `1` → **手动** - 新风机处于手动运行状态
  - `2` → **停止** - 新风机已停止运行
  - `3` → **关闭** - 新风机处于关闭状态

---

## 3. 加湿器 (humidifier)

### 设备描述
加湿器设备用于控制蘑菇房内的湿度，每个库房配置左右两台加湿器。

### 监控的库房
- 607库: `left_humidifier_607`, `right_humidifier_607`
- 608库: `left_humidifier_608`, `right_humidifier_608`
- 611库: `left_humidifier_611`, `right_humidifier_611`
- 612库: `left_humidifier_612`, `right_humidifier_612`

### 监控点列表

#### 3.1 mode - 加湿模式
- **系统标识符**: `Model`
- **用户别名**: `mode`
- **数据类型**: 枚举型 (模式选择)
- **变化阈值**: 不需要阈值
- **枚举值语义**:
  - `0` → **关闭** - 加湿器完全关闭，不运行
  - `1` → **自动** - 加湿器根据湿度设定自动运行
  - `2` → **手动** - 加湿器由人工手动控制运行
- **操作含义**: 选择加湿器的运行模式

#### 3.2 on - 加湿开启设定
- **系统标识符**: `On`
- **用户别名**: `on`
- **数据类型**: 模拟量 (湿度百分比)
- **变化阈值**: 2.0%
- **操作含义**: 设定湿度下限，低于此值时启动加湿器（仅在自动模式下生效）

#### 3.3 off - 加湿停止设定
- **系统标识符**: `Off`
- **用户别名**: `off`
- **数据类型**: 模拟量 (湿度百分比)
- **变化阈值**: 2.0%
- **操作含义**: 设定湿度上限，高于此值时停止加湿器（仅在自动模式下生效）

### 非监控点（仅状态读取）

#### status - 加湿状态
- **系统标识符**: `Running`
- **用户别名**: `status`
- **数据类型**: 枚举型 (只读状态)
- **枚举值语义**:
  - `0` → **加湿自动运行** - 加湿器处于自动运行状态
  - `1` → **加湿手动运行** - 加湿器处于手动运行状态
  - `2` → **加湿停止** - 加湿器已停止运行
  - `3` → **加湿关闭** - 加湿器处于关闭状态

---

## 4. 补光灯 (grow_light)

### 设备描述
补光灯设备用于为蘑菇提供光照，每个库房配置4组补光灯，支持白光和蓝光切换。

### 监控的库房
- 607库: `grow_light_607` (设备名: TD1_Q3MDLIGHT01)
- 608库: `grow_light_608` (设备名: TD1_Q4MDLIGHT01)
- 611库: `grow_light_611` (设备名: TD1_Q1MDLIGHT01)
- 612库: `grow_light_612` (设备名: TD1_Q2MDLIGHT01)

### 监控点列表


#### 4.1 model - 补光模式
- **系统标识符**: `Model`
- **用户别名**: `model`
- **数据类型**: 枚举型 (模式选择)
- **变化阈值**: 不需要阈值
- **枚举值语义**:
  - `0` → **关闭** - 补光灯完全关闭，不运行
  - `1` → **自动** - 补光灯根据设定时间自动运行
  - `2` → **手动** - 补光灯由人工手动控制运行
- **操作含义**: 选择补光灯的运行模式

#### 4.2 on_mset - 补光开启分钟设定
- **系统标识符**: `OnMSet`
- **用户别名**: `on_mset`
- **数据类型**: 模拟量 (分钟)
- **变化阈值**: 5.0分钟
- **操作含义**: 设定补光灯在自动模式下的开启持续时间

#### 4.3 off_mset - 补光停止分钟设定
- **系统标识符**: `OffMSet`
- **用户别名**: `off_mset`
- **数据类型**: 模拟量 (分钟)
- **变化阈值**: 5.0分钟
- **操作含义**: 设定补光灯在自动模式下的停止持续时间

#### 4.4 on_off1 - 1#补光开关
- **系统标识符**: `OnOff1`
- **用户别名**: `on_off1`
- **数据类型**: 枚举型 (数字量开关)
- **变化阈值**: 不需要阈值
- **枚举值语义**:
  - `0` → **关闭** - 1号补光灯关闭
  - `1` → **自动** - 1号补光灯启用自动控制
- **操作含义**: 控制1号补光灯的启用状态

#### 4.5 on_off2 - 2#补光开关
- **系统标识符**: `OnOff2`
- **用户别名**: `on_off2`
- **数据类型**: 枚举型 (数字量开关)
- **变化阈值**: 不需要阈值
- **枚举值语义**:
  - `0` → **关闭** - 2号补光灯关闭
  - `1` → **自动** - 2号补光灯启用自动控制
- **操作含义**: 控制2号补光灯的启用状态

#### 4.6 on_off3 - 3#补光开关
- **系统标识符**: `OnOff3`
- **用户别名**: `on_off3`
- **数据类型**: 枚举型 (数字量开关)
- **变化阈值**: 不需要阈值
- **枚举值语义**:
  - `0` → **关闭** - 3号补光灯关闭
  - `1` → **自动** - 3号补光灯启用自动控制
- **操作含义**: 控制3号补光灯的启用状态

#### 4.7 on_off4 - 4#补光开关
- **系统标识符**: `OnOff4`
- **用户别名**: `on_off4`
- **数据类型**: 枚举型 (数字量开关)
- **变化阈值**: 不需要阈值
- **枚举值语义**:
  - `0` → **关闭** - 4号补光灯关闭
  - `1` → **自动** - 4号补光灯启用自动控制
- **操作含义**: 控制4号补光灯的启用状态

#### 4.8 choose1 - 1#光源选择
- **系统标识符**: `Choose1`
- **用户别名**: `choose1`
- **数据类型**: 枚举型 (光源类型)
- **变化阈值**: 不需要阈值
- **枚举值语义**:
  - `0` → **白光** - 1号补光灯使用白光光源
  - `1` → **蓝光** - 1号补光灯使用蓝光光源
- **操作含义**: 选择1号补光灯的光源类型

#### 4.9 choose2 - 2#光源选择
- **系统标识符**: `Choose2`
- **用户别名**: `choose2`
- **数据类型**: 枚举型 (光源类型)
- **变化阈值**: 不需要阈值
- **枚举值语义**:
  - `0` → **白光** - 2号补光灯使用白光光源
  - `1` → **蓝光** - 2号补光灯使用蓝光光源
- **操作含义**: 选择2号补光灯的光源类型

#### 4.10 choose3 - 3#光源选择
- **系统标识符**: `Choose3`
- **用户别名**: `choose3`
- **数据类型**: 枚举型 (光源类型)
- **变化阈值**: 不需要阈值
- **枚举值语义**:
  - `0` → **白光** - 3号补光灯使用白光光源
  - `1` → **蓝光** - 3号补光灯使用蓝光光源
- **操作含义**: 选择3号补光灯的光源类型

#### 4.11 choose4 - 4#光源选择
- **系统标识符**: `Choose4`
- **用户别名**: `choose4`
- **数据类型**: 枚举型 (光源类型)
- **变化阈值**: 不需要阈值
- **枚举值语义**:
  - `0` → **白光** - 4号补光灯使用白光光源
  - `1` → **蓝光** - 4号补光灯使用蓝光光源
- **操作含义**: 选择4号补光灯的光源类型

### 非监控点（仅状态读取）

#### mode - 补光状态
- **系统标识符**: `Running`
- **用户别名**: `mode`
- **数据类型**: 枚举型 (只读状态)
- **枚举值语义**:
  - `0` → **自动** - 补光灯处于自动运行状态
  - `1` → **手动** - 补光灯处于手动运行状态
  - `2` → **停止** - 补光灯已停止运行
  - `3` → **关闭** - 补光灯处于关闭状态

---

## 5. 蘑菇信息 (mushroom_info)

### 设备描述
蘑菇信息设备记录每个库房的进库信息，包括进库时间、包数和天数。

### 监控的库房
- 607库: `mushroom_info_607` (设备名: TD1_Q3MDINFO01)
- 608库: `mushroom_info_608` (设备名: TD1_Q4MDINFO01)
- 611库: `mushroom_info_611` (设备名: TD1_Q1MDINFO01)
- 612库: `mushroom_info_612` (设备名: TD1_Q2MDINFO01)

### 监控点列表

#### 5.1 in_num - 进库包数
- **系统标识符**: `InNum`
- **用户别名**: `in_num`
- **数据类型**: 模拟量 (整数)
- **变化阈值**: 1.0包
- **操作含义**: 记录进入库房的蘑菇包数量

#### 5.2 in_day_num - 进库天数
- **系统标识符**: `InDayNum`
- **用户别名**: `in_day_num`
- **数据类型**: 模拟量 (整数)
- **变化阈值**: 1.0天
- **操作含义**: 记录蘑菇进库后的天数（生长天数）

### 非监控点（仅信息记录）

#### in_year - 进库年
- **系统标识符**: `InYear`
- **用户别名**: `in_year`
- **数据类型**: 整数
- **操作含义**: 记录进库年份

#### in_month - 进库月
- **系统标识符**: `InMonth`
- **用户别名**: `in_month`
- **数据类型**: 整数
- **操作含义**: 记录进库月份

#### in_day - 进库日
- **系统标识符**: `InDay`
- **用户别名**: `in_day`
- **数据类型**: 整数
- **操作含义**: 记录进库日期

#### in_time - 育菇房（库号）
- **系统标识符**: `Number`
- **用户别名**: `in_time`
- **数据类型**: 字符串
- **操作含义**: 记录库房编号

---

## 6. 环境状态传感器 (mushroom_env_status)

### 设备描述
环境状态传感器用于实时监测库房内的温度、湿度和CO2浓度。

### 监控的库房
- 607库: `env_status_607` (设备名: TD1_Q3MDTM01)
- 608库: `env_status_608` (设备名: TD1_Q4MDTM01)
- 611库: `env_status_611` (设备名: TD1_Q1MDTM01)
- 612库: `env_status_612` (设备名: TD1_Q2MDTM01)

### 传感器读数（非监控点，仅状态读取）

#### temperature - 库内温度
- **系统标识符**: `Tatmosp`
- **用户别名**: `temperature`
- **数据类型**: 模拟量 (分辨率0.1°C)
- **操作含义**: 实时读取库房内的温度值

#### humidity - 库内湿度
- **系统标识符**: `Hatmosp`
- **用户别名**: `humidity`
- **数据类型**: 模拟量 (百分比)
- **操作含义**: 实时读取库房内的湿度值

#### co2 - 库内CO2
- **系统标识符**: `Co2`
- **用户别名**: `co2`
- **数据类型**: 模拟量 (ppm)
- **操作含义**: 实时读取库房内的CO2浓度值

---


## 7. 枚举值语义映射总览

本节汇总所有设备类型中具有枚举值的监控点，便于快速查询和理解设备操作记录。

### 7.1 开关类枚举 (0=关闭, 1=开启)

适用于以下监控点：
- **冷风机**: `on_off`, `air_on_off`, `hum_on_off`, `cyc_on_off`

| 枚举值 | 语义 | 操作行为 |
|--------|------|----------|
| 0 | 关闭 | 设备或功能被关闭，不运行 |
| 1 | 开启 | 设备或功能被启用，开始运行 |

### 7.2 模式类枚举 (0=关闭, 1=自动, 2=手动)

适用于以下监控点：
- **新风机**: `mode`
- **加湿器**: `mode`
- **补光灯**: `model`

| 枚举值 | 语义 | 操作行为 |
|--------|------|----------|
| 0 | 关闭模式 | 设备完全关闭，不执行任何操作 |
| 1 | 自动模式 | 设备根据预设条件和参数自动运行 |
| 2 | 手动模式 | 设备由操作人员手动控制运行 |

**操作逻辑说明**:
- **关闭模式**: 设备不运行，所有控制参数失效
- **自动模式**: 设备根据设定的阈值、时间等参数自动启停
- **手动模式**: 设备由人工直接控制，忽略自动控制参数

### 7.3 新风控制方式枚举

适用于监控点：**新风机** `control`

| 枚举值 | 语义 | 操作行为 |
|--------|------|----------|
| 0 | 时控 | 按照设定的开启/停止时间周期运行 |
| 1 | CO2控制 | 根据CO2浓度阈值自动启停 |

**操作逻辑说明**:
- **时控模式**: 使用 `on` 和 `off` 参数，按固定时间周期运行（如开5分钟，停10分钟）
- **CO2控制模式**: 使用 `co2_on` 和 `co2_off` 参数，当CO2浓度超过上限时启动，低于下限时停止

### 7.4 补光灯开关枚举 (0=关闭, 1=自动)

适用于以下监控点：
- **补光灯**: `on_off1`, `on_off2`, `on_off3`, `on_off4`

| 枚举值 | 语义 | 操作行为 |
|--------|------|----------|
| 0 | 关闭 | 该组补光灯关闭，不参与自动控制 |
| 1 | 自动 | 该组补光灯启用，参与自动控制 |

**操作逻辑说明**:
- 补光灯系统有4组独立的灯，每组可以单独启用或关闭
- 只有设置为"自动"的灯组才会参与自动模式的周期控制

### 7.5 光源类型枚举 (0=白光, 1=蓝光)

适用于以下监控点：
- **补光灯**: `choose1`, `choose2`, `choose3`, `choose4`

| 枚举值 | 语义 | 操作行为 |
|--------|------|----------|
| 0 | 白光 | 该组补光灯使用白光光源 |
| 1 | 蓝光 | 该组补光灯使用蓝光光源 |

**操作逻辑说明**:
- 每组补光灯可以选择白光或蓝光
- 不同光源对蘑菇生长有不同影响，根据生长阶段选择合适的光源

### 7.6 状态类枚举（只读，不可设置）

#### 冷风机状态 (`status`)

| 枚举值 | 语义 | 状态说明 |
|--------|------|----------|
| 0 | 制冷运行 | 冷风机正在制冷模式下运行 |
| 1 | 制热运行 | 冷风机正在制热模式下运行 |
| 2 | 正常运行 | 冷风机正常运行中（非制冷制热） |
| 3 | 停止 | 冷风机已停止运行但未关闭 |
| 4 | 关闭 | 冷风机处于完全关闭状态 |

#### 新风机状态 (`status`)

| 枚举值 | 语义 | 状态说明 |
|--------|------|----------|
| 0 | 自动 | 新风机处于自动运行状态 |
| 1 | 手动 | 新风机处于手动运行状态 |
| 2 | 停止 | 新风机已停止运行 |
| 3 | 关闭 | 新风机处于关闭状态 |

#### 加湿器状态 (`status`)

| 枚举值 | 语义 | 状态说明 |
|--------|------|----------|
| 0 | 加湿自动运行 | 加湿器处于自动运行状态 |
| 1 | 加湿手动运行 | 加湿器处于手动运行状态 |
| 2 | 加湿停止 | 加湿器已停止运行 |
| 3 | 加湿关闭 | 加湿器处于关闭状态 |

#### 补光灯状态 (`mode`)

| 枚举值 | 语义 | 状态说明 |
|--------|------|----------|
| 0 | 自动 | 补光灯处于自动运行状态 |
| 1 | 手动 | 补光灯处于手动运行状态 |
| 2 | 停止 | 补光灯已停止运行 |
| 3 | 关闭 | 补光灯处于关闭状态 |

---

## 8. 设备操作记录转换示例

以下示例展示如何将原始设备操作记录转换为易于理解的操作概述。

### 示例 1: 冷风机温度调整

**原始记录**:
```json
{
  "room_id": "611",
  "device_type": "air_cooler",
  "device_name": "air_cooler_611",
  "point_name": "temp_set",
  "change_time": "2026-01-14 10:30:00",
  "previous_value": 16.5,
  "current_value": 15.0,
  "change_type": "analog_value"
}
```

**转换后的操作概述**:
> 2026年1月14日 10:30，611库冷风机的温度设定从16.5°C调整为15.0°C，降低了1.5°C。

### 示例 2: 新风机模式切换

**原始记录**:
```json
{
  "room_id": "607",
  "device_type": "fresh_air_fan",
  "device_name": "fresh_air_fan_607",
  "point_name": "mode",
  "change_time": "2026-01-14 11:00:00",
  "previous_value": 0,
  "current_value": 1,
  "change_type": "enum_state"
}
```

**转换后的操作概述**:
> 2026年1月14日 11:00，607库新风机从关闭模式切换为自动模式，系统将根据设定条件自动控制通风。

### 示例 3: 补光灯光源切换

**原始记录**:
```json
{
  "room_id": "612",
  "device_type": "grow_light",
  "device_name": "grow_light_612",
  "point_name": "choose1",
  "change_time": "2026-01-14 12:00:00",
  "previous_value": 0,
  "current_value": 1,
  "change_type": "enum_state"
}
```

**转换后的操作概述**:
> 2026年1月14日 12:00，612库补光灯1号光源从白光切换为蓝光。

### 示例 4: 加湿器湿度阈值调整

**原始记录**:
```json
{
  "room_id": "608",
  "device_type": "humidifier",
  "device_name": "left_humidifier_608",
  "point_name": "on",
  "change_time": "2026-01-14 13:00:00",
  "previous_value": 85.0,
  "current_value": 88.0,
  "change_type": "analog_value"
}
```

**转换后的操作概述**:
> 2026年1月14日 13:00，608库左侧加湿器的启动湿度阈值从85%调整为88%，提高了3%。

---

## 9. 数据类型和阈值说明

### 9.1 数据类型分类

| 数据类型 | 说明 | 示例监控点 |
|----------|------|------------|
| 枚举型 | 有限的离散值，每个值有特定含义 | `mode`, `control`, `on_off` |
| 模拟量 | 连续数值，可以是整数或浮点数 | `temp_set`, `co2_on`, `on_mset` |
| 数字量 | 0/1二值状态 | `on_off`, `air_on_off` |

### 9.2 变化阈值说明

变化阈值用于判断模拟量参数的变化是否显著，只有超过阈值的变化才会被记录。

| 设备类型 | 监控点 | 阈值 | 单位 | 说明 |
|----------|--------|------|------|------|
| air_cooler | temp_set | 0.5 | °C | 温度设定变化超过0.5°C才记录 |
| air_cooler | temp_diffset | 0.2 | °C | 温差设定变化超过0.2°C才记录 |
| air_cooler | cyc_on_time | 1.0 | 分钟 | 循环开启时间变化超过1分钟才记录 |
| air_cooler | cyc_off_time | 1.0 | 分钟 | 循环关闭时间变化超过1分钟才记录 |
| fresh_air_fan | co2_on | 50.0 | ppm | CO2启动阈值变化超过50ppm才记录 |
| fresh_air_fan | co2_off | 50.0 | ppm | CO2停止阈值变化超过50ppm才记录 |
| fresh_air_fan | on | 1.0 | 分钟 | 开启时间变化超过1分钟才记录 |
| fresh_air_fan | off | 1.0 | 分钟 | 停止时间变化超过1分钟才记录 |
| humidifier | on | 2.0 | % | 启动湿度变化超过2%才记录 |
| humidifier | off | 2.0 | % | 停止湿度变化超过2%才记录 |
| grow_light | on_mset | 5.0 | 分钟 | 开启时间变化超过5分钟才记录 |
| grow_light | off_mset | 5.0 | 分钟 | 停止时间变化超过5分钟才记录 |
| mushroom_info | in_num | 1.0 | 包 | 进库包数变化超过1包才记录 |
| mushroom_info | in_day_num | 1.0 | 天 | 进库天数变化超过1天才记录 |

**注意**: 枚举型和数字量监控点不需要阈值，任何状态变化都会被记录。

---

## 10. 使用建议

### 10.1 作为大模型输入的最佳实践

1. **提供完整上下文**: 将本文档作为系统提示词的一部分，让模型理解所有设备和监控点的含义

2. **结构化输入**: 将设备操作记录按照以下格式提供给模型：
   ```
   库房: {room_id}
   设备类型: {device_type}
   设备名称: {device_name}
   监控点: {point_name} ({point_alias})
   变化时间: {change_time}
   变化前: {previous_value}
   变化后: {current_value}
   变化类型: {change_type}
   ```

3. **语义转换要求**: 要求模型输出包含以下要素：
   - 时间信息（易读格式）
   - 库房信息
   - 设备类型和具体设备
   - 操作内容（使用枚举值的语义描述）
   - 变化幅度（对于模拟量）
   - 操作影响（对蘑菇生长环境的影响）

4. **批量处理**: 对于多条记录，可以要求模型生成操作摘要，突出关键变化

### 10.2 监控点关联关系

理解监控点之间的关联关系有助于生成更准确的操作概述：

1. **冷风机联动关系**:
   - `air_on_off=1`: 新风机运行时会联动启动冷风机
   - `hum_on_off=1`: 加湿器运行时会联动启动冷风机
   - `cyc_on_off=1`: 启用循环模式，使用 `cyc_on_time` 和 `cyc_off_time` 参数

2. **新风机控制逻辑**:
   - `mode=1` (自动) + `control=0` (时控): 使用 `on` 和 `off` 参数
   - `mode=1` (自动) + `control=1` (CO2控制): 使用 `co2_on` 和 `co2_off` 参数
   - `mode=2` (手动): 所有自动参数失效

3. **补光灯组合控制**:
   - `model=1` (自动): 使用 `on_mset` 和 `off_mset` 参数
   - 每组灯独立控制: `on_off1-4` 决定是否参与自动控制
   - 每组灯独立选择光源: `choose1-4` 决定白光或蓝光

### 10.3 常见操作场景

1. **温度调控**: 调整 `temp_set` 和 `temp_diffset`
2. **通风管理**: 切换 `mode` 和 `control`，调整时间或CO2阈值
3. **湿度控制**: 调整 `on` 和 `off` 湿度阈值
4. **光照管理**: 调整 `on_mset` 和 `off_mset`，切换光源类型
5. **生长阶段切换**: 更新 `in_day_num`，可能伴随多个设备参数的调整